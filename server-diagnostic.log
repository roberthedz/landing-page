ğŸ” Puerto configurado: 3000
ğŸŒ Environment: development
ğŸ”— Conectando a MongoDB Atlas...
ğŸ”— URI: mongodb+srv://rhzamora144:***@cluster0.4vwcokw.mongodb.net/reservas?retryWrites=true&w=majority&appName=Cluster0
âŒ Error al conectar a MongoDB Atlas: querySrv ECONNREFUSED _mongodb._tcp.cluster0.4vwcokw.mongodb.net
ğŸ”§ Verifica:
   1. IP whitelist en MongoDB Atlas (0.0.0.0/0)
   2. Usuario y contraseÃ±a correctos
   3. Cluster activo
âš ï¸ Servidor continuarÃ¡ sin MongoDB...
ğŸš€ Servidor corriendo en el puerto 3000
ğŸ”— MongoDB Atlas: Conectado
ğŸ“§ Email: Configurado
âœ¨ Â¡Sistema de reservas listo para producciÃ³n!
âœ… Servidor de email configurado correctamente
ğŸŒ CORS: GET /api/booked-slots desde http://localhost:3000
ğŸ” GET /api/booked-slots - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fecha: 09/30/2025
âŒ Error al obtener horarios ocupados: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/booked-slots desde http://localhost:3000
ğŸ” GET /api/booked-slots - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fecha: 12/01/2025
âŒ Error al obtener horarios ocupados: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/booked-slots-batch desde http://localhost:3000
ğŸ” GET /api/booked-slots-batch - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fechas: [ '10/01/2025', '10/02/2025', '10/03/2025' ]
âŒ Error al obtener horarios en lote: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/system-status desde http://localhost:3000
ğŸ” GET /api/system-status - Verificando estado del sistema...
âŒ Error al verificar estado del sistema: MongooseError: Operation `bookings.countDocuments()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: POST /api/bookings desde http://localhost:3000
ğŸ” POST /api/bookings - Solicitud recibida desde: http://localhost:3000
ğŸ“ Datos recibidos: {
  id: 'diagnostic-test-1759234593',
  clientName: 'Diagnostic Test',
  clientEmail: 'diagnostic@test.com',
  clientPhone: '0000000000',
  service: 'Test Service',
  serviceDuration: '60 min',
  servicePrice: './test-mongodb-exhaustivo.sh',
  date: '12/31/2025',
  time: '11:00 AM',
  type: 'consulta-individual',
  notes: 'Prueba diagnÃ³stica'
}
âš ï¸ No se pudo verificar ID duplicado (MongoDB no disponible)
ğŸ” Verificando disponibilidad del horario: 12/31/2025 11:00 AM
âš ï¸ No se pudo verificar disponibilidad de horario (MongoDB no disponible)
ğŸ“§ Enviando emails de nueva solicitud...
âœ… Emails enviados exitosamente a ADMIN y CLIENTE simultÃ¡neamente
ğŸ’¾ Intentando guardar reserva en MongoDB como PENDING...
âš ï¸ Error al guardar en MongoDB (pero los emails ya se enviaron): MongooseError: Operation `bookings.insertOne()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸ‰ Flujo completo exitoso para Diagnostic Test - Emails enviados
ğŸŒ CORS: GET /api/booked-slots desde http://localhost:3000
ğŸ” GET /api/booked-slots - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fecha: 12/31/2025
âŒ Error al obtener horarios ocupados: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/health desde http://localhost:3000
ğŸ” GET /api/health - Solicitud recibida desde: http://localhost:3000
âŒ Error en health check: MongooseError: Operation `bookings.countDocuments()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/booked-slots-batch desde http://localhost:3000
ğŸ” GET /api/booked-slots-batch - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fechas: [
  '09/30/2025',
  '10/01/2025',
  '10/02/2025',
  '10/03/2025',
  '10/04/2025'
]
âŒ Error al obtener horarios en lote: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/booked-slots desde http://localhost:3000
ğŸ” GET /api/booked-slots - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fecha: 09/30/2025
âŒ Error al obtener horarios ocupados: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/booked-slots desde http://localhost:3000
ğŸ” GET /api/booked-slots - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fecha: 10/15/2025
âŒ Error al obtener horarios ocupados: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/booked-slots desde http://localhost:3000
ğŸ” GET /api/booked-slots - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fecha: 10/15/2025
âŒ Error al obtener horarios ocupados: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/booked-slots desde http://localhost:3000
ğŸ” GET /api/booked-slots - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fecha: 10/15/2025
âŒ Error al obtener horarios ocupados: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: POST /api/bookings desde http://localhost:3000
ğŸ” POST /api/bookings - Solicitud recibida desde: http://localhost:3000
ğŸ“ Datos recibidos: { clientName: 'Test', clientEmail: 'test@test.com' }
âŒ Faltan campos requeridos
ğŸŒ CORS: POST /api/bookings desde http://localhost:3000
ğŸ” POST /api/bookings - Solicitud recibida desde: http://localhost:3000
ğŸ“ Datos recibidos: {
  id: 'frontend-test-1759234841',
  clientName: 'Usuario Frontend Test',
  clientEmail: 'frontend@test.com',
  clientPhone: '1234567890',
  service: 'Consulta Frontend',
  serviceDuration: '60 min',
  servicePrice: '00',
  date: '12/20/2025',
  time: '3:00 PM',
  type: 'consulta-individual',
  notes: 'Prueba desde curl simulando frontend'
}
âš ï¸ No se pudo verificar ID duplicado (MongoDB no disponible)
ğŸ” Verificando disponibilidad del horario: 12/20/2025 3:00 PM
âš ï¸ No se pudo verificar disponibilidad de horario (MongoDB no disponible)
ğŸ“§ Enviando emails de nueva solicitud...
âœ… Emails enviados exitosamente a ADMIN y CLIENTE simultÃ¡neamente
ğŸ’¾ Intentando guardar reserva en MongoDB como PENDING...
âš ï¸ Error al guardar en MongoDB (pero los emails ya se enviaron): MongooseError: Operation `bookings.insertOne()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸ‰ Flujo completo exitoso para Usuario Frontend Test - Emails enviados
ğŸŒ CORS: GET /api/booked-slots desde http://localhost:3000
ğŸ” GET /api/booked-slots - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fecha: 12/20/2025
âŒ Error al obtener horarios ocupados: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /api/booked-slots desde http://localhost:3000
ğŸ” GET /api/booked-slots - Solicitud recibida desde: http://localhost:3000
ğŸ“¡ Consultando MongoDB Atlas para fecha: 09/30/2025
âŒ Error al obtener horarios ocupados: MongooseError: Operation `bookedslots.find()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
ğŸŒ CORS: GET /confirm-booking desde http://localhost:3000
âŒ Error al procesar la confirmaciÃ³n: MongooseError: Operation `bookings.findOne()` buffering timed out after 10000ms
    at Timeout.<anonymous> (/Users/roberthernandez/Documents/landing page/landing-page/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)
    at listOnTimeout (node:internal/timers:608:17)
    at process.processTimers (node:internal/timers:543:7)
